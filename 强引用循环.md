###强引用循环

属性默认是强引用，表现：引用计数器加1。
2个对象在引用上形成强引用循环就会造成内存泄漏。解决办法->weak
weak:告诉对象：我只使用你，而不拥有你。引用计数器不加1


```
import UIKit
class Person{
    var name:String
    weak var apartment:Apartment?
    init(name:String) {
        self.name = name
        print("Person",name,"is initialized")
    }
    
    deinit {
        print("Person",name,"is deinitialized!")
    }
}

class Apartment{
    let name:String
    var tenant:Person?
    init(name:String) {
        self.name = name
        print("Apartment",name,"is initialized")
    }
    deinit {
        print("Apartment", name ,"is deinitialized")
    }
}

var lbp:Person? = Person(name: "lbp")
var department:Apartment? = Apartment(name: "huahaiyuan")

lbp?.apartment = department
department?.tenant = lbp
lbp = nil
department = nil

```

![](/assets/屏幕快照 2017-01-07 下午11.33.14.png)

